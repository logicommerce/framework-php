{% macro contactForm(args, legalCheck) %}

	{%- set classWildcard = constant('FWK\\Core\\Form\\FormFactory::CLASS_WILDCARD') -%} 
    {%- set attributeWildcard = constant('FWK\\Core\\Form\\FormFactory::ATTRIBUTE_WILDCARD') -%}
    {%- for name, element in args.form.outputElements([constant('FWK\\Enums\\RichFormItems::LC_DATA_VALIDATION')]) -%}
        {%- if name == constant('FWK\\Core\\Form\\Form::ELEMENT_FORM_START') -%}
            {{- element|replace({ (attributeWildcard): 'data-lc-form="productContactForm"' }) -}}
            <div class="form-message"></div>
            <div class="formText productContactFormText">
                {{- languageSheet[constant('FWK\\Enums\\LanguageLabels::CONTACT_TEXT')] -}}   
            </div> 
            <div class="productContactForm">
        {%- elseif name in [constant('FWK\\Core\\Form\\Form::ELEMENT_FORM_END'), constant('FWK\\Enums\\Parameters::ID'), constant('FWK\\Enums\\Parameters::CAPTCHA_TOKEN')] -%}
            {{- element -}}
        {%- elseif name == constant('FWK\\Core\\Form\\Form::SUBMIT') -%}
                {{- legalCheck -}}
                <div class="formField formButton productContactField form-group" id="productContact{{- ucwords(name) -}}Container">
                    {{- element|replace({ (classWildcard): '', (attributeWildcard): '' }) -}}
                </div>
				<div class="formResponseContainer" id="productContactResponse"></div>
            </div>
        {%- else -%}
            <div class="form-group formField productContactField" id="productContact{{- ucwords(name) -}}Container">
                {% set fillFn = "" %}
                {% set fillFnClass = "" %}
                {% if name in themeConfiguration.commerce.availableFillDataFields|split(',') %}
                    {% set fillFn = 'data-fill-fn="get' ~ ucwords(name) ~ '"' %}   
                    {% set fillFnClass = "js-fill-data" %}
                {% endif %}
                {{- element|replace({ 
                    (classWildcard): fillFnClass,
                    (attributeWildcard): fillFn 
                }) -}}
            </div>
        {%- endif -%}
    {%- endfor -%}

{% endmacro contactForm %}
