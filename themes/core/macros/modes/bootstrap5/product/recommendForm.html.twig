{% macro recommendForm(args, legalCheck) %}

    {% set typePrefix = args.form.definitionElements[constant('FWK\\Enums\\Parameters::TYPE')].value|lower %}

	<div class="{{typePrefix}}RecommendForm">
		{%- set classWildcard = constant('FWK\\Core\\Form\\FormFactory::CLASS_WILDCARD') -%} 
		{%- set attributeWildcard = constant('FWK\\Core\\Form\\FormFactory::ATTRIBUTE_WILDCARD') -%}
		{%- for name, element in args.form.outputElements([constant('FWK\\Enums\\RichFormItems::LC_DATA_VALIDATION')]) -%}
			{%- if name == constant('FWK\\Core\\Form\\Form::ELEMENT_FORM_START') -%}
				{{- element|replace({ (attributeWildcard): 'data-lc-form="recommendForm"' }) -}}
				<div class="form-message"></div>
			{%- elseif name in [
                constant('FWK\\Core\\Form\\Form::ELEMENT_FORM_END'), 
                constant('FWK\\Enums\\Parameters::ID'), 
                constant('FWK\\Enums\\Parameters::CAPTCHA_TOKEN'), 
                constant('FWK\\Enums\\Parameters::TYPE'),
                constant('FWK\\Enums\\Parameters::OPTIONS')] 
            -%}
				{{- element -}}
			{%- elseif name == constant('FWK\\Core\\Form\\Form::SUBMIT') -%}
				{{- legalCheck -}}
				<div class="formField formButton {{typePrefix}}RecommendField form-group" id="{{typePrefix}}Recommend{{- ucwords(name) -}}Container">
					{{- element|replace({ (classWildcard): '', (attributeWildcard): '' }) -}}
				</div>
				<div class="formResponseContainer" id="{{typePrefix}}RecommendResponse"></div>
			{%- else -%}
				<div class="form-group formField {{typePrefix}}RecommendField" id="{{typePrefix}}Recommend{{- ucwords(name) -}}Container">
					{% set fillFnClass = "" %}
					{% if name in themeConfiguration.commerce.availableFillDataFields|split(',') %}
						{% set fillFn = 'data-fill-fn="get' ~ ucwords(name) ~ '"' %}   
						{% set fillFnClass = "js-fill-data" %}
					{% endif %}
					{{- element|replace({ 
						(classWildcard): fillFnClass,
						(attributeWildcard): fillFn 
					}) -}}
				</div>
			{%- endif -%}
		{%- endfor -%}
	</div>

{% endmacro recommendForm %}
